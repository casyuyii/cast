---
import Basic from "@layouts/basic.astro"
import { getCollection } from "astro:content"

const allBlogPosts = await getCollection("blog")
allBlogPosts.sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime())
---

<Basic>
  <div class="flex flex-col gap-4">
    {
      allBlogPosts.map((post) => (
        <div>
          <a class="hover:underline text-cyan-500" href={"/b/" + post.id}>
            {post.data.title}
          </a>
          <p>
            {"written on: " +
              post.data.pubDate.toLocaleDateString("en-US", {
                weekday: "short",
                year: "numeric",
                month: "numeric",
                day: "numeric",
              })}
          </p>
        </div>
      ))
    }
  </div>

  <div class="flex flex-col pt-8">
    <a
      href="https://www.notion.so/Archive-blogs-304e00d84228430f9b72e765ddec0129"
      class="hover:underline text-cyan-500"
    >
      Archived Notion
    </a>
    <a href="https://yucangs.github.io/" class="hover:underline text-cyan-500"> Archived Site </a>
  </div>
</Basic>
